scripts_for_epics
=================

# 1. epics_default_installation.sh

   ```bash epics_default_installation.sh```

* I intend to develop this script in order to reduce the painful
  copy and paste from EPICS and its extensions installation logs
  from everywhere. So only for Linux 64bit Debian for PC and 
  Rasberian for Raspberry Pi, this script works well.
  Anyway, it will reduce significantly my time for just installing
  EPICS and its extenstions.


* Must install the following packages via root or sudo
  before running this script with mandatory input argument(s).

  See require\_packages\_sh
    


  * EPICS Base and extensionTop
  * Extensions List
    * StripTool2\_5\_16_0 
    * alh1\_2_34 
    * medm3\_1_9 
    * probe1_1\_8_0 
    * msi1-6 
    * cau_20130110 
    * dbVerbose_20130124 
    * gnuregex0_13 
    * nameserver2\_0\_0_12
    * gateway2\_0\_4_0


* This file is automatically generated by epics\_default_installation.sh and contains almost all environments for us. So simple to run source or . setEpicsEnv.sh may guide us to the easy world to configure many different EPICS versions.

As you see, we have the following EPICS environments :

	EPICS_HOST_ARCH
	EPICS_BASE
    EPICS_EXTENSIONS

and the Linux environments :

    PATH
	LD_LIBRARY_PATH
  
and the finally, RAON environments :

	EPICS_PATH
	RAON_SITELIBS
	RAON_SITEAPPS

And the empty and additional environment :

	EPICS_SYNAPPS

The EPICS\_SYNAPPS will be replaced with a proper path later when epics\_synApps.sh is executed. The tricky things are $PATH, and $LD\_LIBRARY\_PATH. Technically, the epics\_default\_installation script may handle these issue well, but I cannot test them all possible cases. So please check it whether it works or not. FYI, vdct can be executed after sourcing setEpicsEnv.sh by simple vdct.

* This script was completely redesigned for the RAON control team EPICS environment



# 2. epics-mode.el

I intend to develop this emacs mode file for EPICS db, vdb, dbd, proto, template files, because I cannot find any syntax highlighting feature in the EPICS community.
    
* go the emacs.d directory in ```bash ${HOME}/.emacs.d/```
* make a symbolic link as 

```bash
user@host:~/.emacs.d$ ln -s ~/scripts_for_epics/epics-mode.el epics-mode.el
```
* add the following lines in ```bash ${HOME}/.emacs ```

```lisp
    (load-file "$HOME/.emacs.d/epics-mode.el")
		(require 'epics-mode)
```

# 3. require_packages.sh

This script reads four package list files such as package_list_{epics, common, raon, {wheezy, jessi}}. The distribution of Debian wheezy or jessie will be selected via lsb-release  command. 

```bash
    usage: require_packages.sh <command>
	commands: explaination
		all    : install all packages 
		ctrl*  : install Control System packages 
		common : install common Linux packages
```
   
Note that one needs to install *lsb-release* on Raspberry Pi. 
  
# 4. Here is the quick installation log 

```bash
   user@:~$ git clone https://github.com/jeonghanlee/scripts_for_epics
   user@:~$ cd scripts_for_epics/
   user@:~/scripts_for_epics$ su
   Password: 
   root@:{HOME}/scripts_for_epics# bash require_packages.sh all
   root@:{HOME}/scripts_for_epics# exit
   user@:~/scripts_for_epics$ bash epics_default_installation.sh 
   user@:~/scripts_for_epics$ cd ../epics/R3.14.12.4/
   user@:~/epics/R3.14.12.4$ ls
   base  extensions  setEpicsEnv.sh
   user@:~/epics/R3.14.12.4$ . setEpicsEnv.sh 
```

The installation log file is located in 
  * /tmp/log_require_packages.log 
  

# 5. epics_synApps.sh will install the synApps as the following way:

```bash
   user@:~$ bash ~/scripts_for_epics/epics_synApps.sh 
```
And it has the following tree structures. Note that Raspberry Pi and Debian Jessie do not have the AREA DETECTOR and its dependent packages.
  
```
jhlee@ctrlnb0:~/epics/R3.14.12.5/epicsLibs$ tree -L 3 -d
.
└── [jhlee    4.0K]  synApps_5_8
    └── [jhlee    4.0K]  support
        ├── [jhlee    4.0K]  alive-1-0
        ├── [jhlee    4.0K]  allenBradley-2-3
        ├── [jhlee    4.0K]  areaDetector-R2-0
        ├── [jhlee    4.0K]  asyn-4-26
        ├── [jhlee    4.0K]  autosave-5-6-1
        ├── [jhlee    4.0K]  busy-1-6-1
        ├── [jhlee    4.0K]  calc-3-4-2-1
        ├── [jhlee    4.0K]  camac-2-7
        ├── [jhlee    4.0K]  caputRecorder-1-4-2
        ├── [jhlee    4.0K]  configure
        ├── [jhlee    4.0K]  dac128V-2-8
        ├── [jhlee    4.0K]  delaygen-1-1-1
        ├── [jhlee    4.0K]  devIocStats-3-1-13
        ├── [jhlee    4.0K]  documentation
        ├── [jhlee    4.0K]  dxp-3-4
        ├── [jhlee    4.0K]  ip-2-17
        ├── [jhlee    4.0K]  ip330-2-8
        ├── [jhlee    4.0K]  ipac-2-13
        ├── [jhlee    4.0K]  ipUnidig-2-10
        ├── [jhlee    4.0K]  love-3-2-5
        ├── [jhlee    4.0K]  mca-7-6
        ├── [jhlee    4.0K]  measComp-1-1
        ├── [jhlee    4.0K]  modbus-2-7
        ├── [jhlee    4.0K]  motor-6-9
        ├── [jhlee    4.0K]  optics-2-9-3
        ├── [jhlee    4.0K]  quadEM-5-0
        ├── [jhlee    4.0K]  seq-2-2-1
        ├── [jhlee    4.0K]  softGlue-2-4-3
        ├── [jhlee    4.0K]  sscan-2-10-1
        ├── [jhlee    4.0K]  std-3-4
        ├── [jhlee    4.0K]  stream-2-6a
        ├── [jhlee    4.0K]  utils
        ├── [jhlee    4.0K]  vac-1-5-1
        ├── [jhlee    4.0K]  vme-2-8-2
        └── [jhlee    4.0K]  xxx-5-8-3

37 directories

```
This script will add the proper synApps version and path into setEpicsEnv.sh. And one can use the synApps path as *EPICS_SYNAPPS* in one's Application. One should run setEpicsEnv.sh again. 
   


# 6. StripTool 2.5.16.0 Patch

Within the StripTool2\_5\_16_0, for example,

```bash 
   /home/jhlee/epics/R3.14.12.5/extensions/src/StripTool2_5_16_0

   $ patch -p1 < ~/scripts_for_epics/StripTool2_5_16_0.patch
```
   
